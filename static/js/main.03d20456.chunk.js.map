{"version":3,"sources":["components/Item.jsx","components/List.jsx","components/Header.jsx","components/Info.jsx","App.js","index.js"],"names":["Item","_ref","itemDetails","preview","react_default","a","createElement","className","src","source","alt","name","wikipedia_extracts","text","List","places","nextFive","prevFive","offset","_useState","useState","_useState2","Object","slicedToArray","setItemDetails","ListGroup","as","map","place","onClick","id","xid","_ref2","asyncToGenerator","_regeneratorRuntime","mark","_callee","url","res","data","wrap","_context","prev","next","concat","fetch","sent","json","stop","_x","apply","this","arguments","itemDetail","key","length","Button","Header","city","toUpperCase","Info","numOfPlaces","Fragment","country","App","_React$useState","React","_React$useState2","formData","setFormData","_React$useState3","_React$useState4","counter","setCounter","_React$useState5","lon","lat","_React$useState6","coords","setCoords","_React$useState7","_React$useState8","setPlaces","_React$useState9","_React$useState10","setOffset","_React$useState11","_React$useState12","setNumOfPlaces","_React$useState13","_React$useState14","placeInfo","setPlaceInfo","apikey","useEffect","method","query","Promise","resolve","reject","apiURL","undefined","then","catch","err","console","log","message","status","prevCoords","getCityFromApi","App_regeneratorRuntime","count","loadList","_callee2","_context2","onSubmit","e","preventDefault","prevCount","type","placeholder","value","onChange","_e$target","target","prevFormData","objectSpread","defineProperty","components_List","pageLength","prevOffset","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"kOACe,SAASA,EAATC,GAA6B,IAAbC,EAAaD,EAAbC,YAG3B,OAFIA,EAAYC,QAGhBC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0CACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYC,IAAKN,EAAYC,QAAUD,EAAYC,QAAQM,OAAS,GAAIC,IAAI,OAGnGN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAQL,EAAYS,KAAOT,EAAYS,KAAK,IAC1DP,EAAAC,EAAAC,cAAA,SAAIJ,EAAYU,mBAAqBV,EAAYU,mBAAmBC,KAAK,0yMCkClEC,MA1Cf,SAAAb,GAAoD,IAArCc,EAAqCd,EAArCc,OAAQC,EAA6Bf,EAA7Be,SAAUC,EAAmBhB,EAAnBgB,SAAUC,EAASjB,EAATiB,OAASC,EAGZC,mBAAS,IAHGC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAG3CjB,EAH2CmB,EAAA,GAG9BG,EAH8BH,EAAA,GAgBlD,OACEjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACZH,EAAAC,EAAAC,cAACmB,EAAA,EAAD,CAAWC,GAAG,MAChBX,EAAOY,IAAI,SAAAC,GACV,OACExB,EAAAC,EAAAC,cAACmB,EAAA,EAAUzB,KAAX,CAAgBO,UAAU,QAAQmB,GAAG,KAAKG,QAAS,kBAjBvCC,EAiBwDF,EAAMG,SAhBlE,eAAAC,EAAAV,OAAAW,EAAA,EAAAX,CAAAY,IAAAC,KAAG,SAAAC,EAAON,GAAP,IAAAO,EAAAC,EAAAC,EAAA,OAAAL,IAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACXN,EADW,iDAAAO,OAC4Cd,EAD5C,0EAAAW,EAAAE,KAAA,EAGCE,MAAMR,GAHP,cAGXC,EAHWG,EAAAK,KAAAL,EAAAE,KAAA,EAIEL,EAAIS,OAJN,OAIXR,EAJWE,EAAAK,KAKjBtB,EAAee,GALE,wBAAAE,EAAAO,SAAAZ,MAAH,gBAAAa,GAAA,OAAAjB,EAAAkB,MAAAC,KAAAC,YAAA,EAQhBC,CAAWvB,GATZ,IAAqBA,GAiBoEwB,IAAK1B,EAAMG,KAC5FH,EAAMjB,SAMVI,EAAOwC,OAAS,EAAInD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sCACjCW,GAAU,EAAGd,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAQ3B,QAASZ,EAAUV,UAAU,qBAArC,QAAwE,GACrE,IAAlBQ,EAAOwC,OAAenD,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAQ3B,QAASb,EAAUT,UAAU,qBAArC,QAAwE,IAEvF,IAENH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACZH,EAAAC,EAAAC,cAACN,EAAD,CAAME,YAAaA,OCrCb,SAASuD,EAATxD,GAAuB,IAANyD,EAAMzD,EAANyD,KAC5B,OAEItD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,SACQH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,YADR,OAEEH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,IAA8BmD,EAAOA,EAAKC,cAAc,QAAxD,KAFF,YCJO,SAASC,EAAT3D,GAAkC,IAAnB4D,EAAmB5D,EAAnB4D,YAAaH,EAAMzD,EAANyD,KACvC,OACItD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KAAGJ,EAAK/C,KAAOP,EAAAC,EAAAC,cAAA,OAAKwB,GAAG,OAAOvB,UAAU,uBAAsBH,EAAAC,EAAAC,cAAA,SAAIoD,EAAK/C,KAAT,KAAiB+C,EAAKK,SAAY3D,EAAAC,EAAAC,cAAA,SAAIuD,EAAJ,8CAAqE,qxMCoJ9JG,MAnJf,WAAe,IAAAC,EAEmBC,IAAM9C,SAAS,CAAEQ,MAAO,KAF3CuC,EAAA7C,OAAAC,EAAA,EAAAD,CAAA2C,EAAA,GAENG,EAFMD,EAAA,GAEIE,EAFJF,EAAA,GAAAG,EAGiBJ,IAAM9C,SAAS,GAHhCmD,EAAAjD,OAAAC,EAAA,EAAAD,CAAAgD,EAAA,GAGNE,EAHMD,EAAA,GAGGE,EAHHF,EAAA,GAAAG,EAIeR,IAAM9C,SAAS,CACzCuD,IAAK,GACLC,IAAK,KANMC,EAAAvD,OAAAC,EAAA,EAAAD,CAAAoD,EAAA,GAINI,EAJMD,EAAA,GAIEE,EAJFF,EAAA,GAAAG,EAQed,IAAM9C,SAAS,IAR9B6D,EAAA3D,OAAAC,EAAA,EAAAD,CAAA0D,EAAA,GAQNjE,EARMkE,EAAA,GAQEC,EARFD,EAAA,GAAAE,EAUejB,IAAM9C,SAAS,GAV9BgE,EAAA9D,OAAAC,EAAA,EAAAD,CAAA6D,EAAA,GAUNjE,EAVMkE,EAAA,GAUEC,EAVFD,EAAA,GAAAE,EAWyBpB,IAAM9C,SAAS,IAXxCmE,EAAAjE,OAAAC,EAAA,EAAAD,CAAAgE,EAAA,GAWNzB,EAXM0B,EAAA,GAWOC,EAXPD,EAAA,GAAAE,EAaqBvB,IAAM9C,SAAS,IAbpCsE,EAAApE,OAAAC,EAAA,EAAAD,CAAAmE,EAAA,GAaNE,EAbMD,EAAA,GAaKE,EAbLF,EAAA,GA2BPG,EAAS,2DA8Ef,OA5EA3B,IAAM4B,UAAU,WACd,IAAgBC,EAAQC,EAmBD,KAAnB5B,EAASxC,QAnBGmE,EAoBP,UApBeC,EAoBhB,QAAApD,OAAoBwB,EAASxC,OAnB5B,IAAIqE,QAAQ,SAASC,EAASC,GACnC,IAAIC,EACF,6CACAL,EACA,WACAF,OACYQ,IAAVL,IACFI,GAAU,IAAMJ,GAElBnD,MAAMuD,GACHE,KAAK,SAAChE,GAAD,OAASA,EAAIS,SAClBuD,KAAK,SAAC/D,GAAD,OAAU2D,EAAQ3D,KACvBgE,MAAM,SAASC,GACdC,QAAQC,IAAI,kBAAmBF,QAMOF,KAAK,SAAS/D,GACxD,IAAIoE,EAAU,iBACM,OAAhBpE,EAAKqE,SACP7B,EAAU,SAAC8B,GACT,MAAO,CACLlC,IAAKpC,EAAKoC,IACVC,IAAKrC,EAAKqC,OAGdgB,EAAarD,GACboE,EAAUpE,EAAK5B,KACf8F,QAAQC,IAAIC,EAASpE,OAI1B,CAACiC,IAEJN,IAAM4B,UAAU,WACd,IAAMgB,EAAc,eAAA7G,EAAAqB,OAAAW,EAAA,EAAAX,CAAAyF,IAAA5E,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAwE,IAAAvE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACfN,EADe,2DAAAO,OACkDiD,EADlD,+BAAAjD,OACsF1B,EADtF,SAAA0B,OACoGkC,EAAOH,IAD3G,SAAA/B,OACsHkC,EAAOF,IAD7H,iBAAAnC,EAAAE,KAAA,EAEHE,MAAMR,GAFH,cAEfC,EAFeG,EAAAK,KAAAL,EAAAE,KAAA,EAGFL,EAAIS,OAHF,OAGfR,EAHeE,EAAAK,KAIrB0C,EAAejD,EAAKyE,OAJC,wBAAAvE,EAAAO,SAAAZ,MAAH,yBAAAnC,EAAAiD,MAAAC,KAAAC,YAAA,GAOd6D,EAAQ,eAAAjF,EAAAV,OAAAW,EAAA,EAAAX,CAAAyF,IAAA5E,KAAG,SAAA+E,IAAA,IAAA7E,EAAAC,EAAAC,EAAA,OAAAwE,IAAAvE,KAAA,SAAA2E,GAAA,cAAAA,EAAAzE,KAAAyE,EAAAxE,MAAA,cACTN,EADS,2DAAAO,OACwDiD,EADxD,8BAAAjD,OAlEA,EAkEA,YAAAA,OACgH1B,EADhH,SAAA0B,OAC8HkC,EAAOH,IADrI,SAAA/B,OACgJkC,EAAOF,IADvJ,gBAAAuC,EAAAxE,KAAA,EAEGE,MAAMR,GAFT,cAETC,EAFS6E,EAAArE,KAAAqE,EAAAxE,KAAA,EAGIL,EAAIS,OAHR,OAGTR,EAHS4E,EAAArE,KAKfoC,EAAU3C,GALK,wBAAA4E,EAAAnE,SAAAkE,MAAH,yBAAAlF,EAAAkB,MAAAC,KAAAC,YAAA,GAQK,KAAf0B,EAAOF,MACTkC,IACAG,MAED,CAACnC,EAAOF,IAAK1D,IAmBdd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACmD,EAAD,CAAQC,KAAMU,EAASxC,QACvBxB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,QACE8G,SAvBZ,SAAsBC,GACpBA,EAAEC,iBACFjC,EAAU,GAEVZ,EAAW,SAAC8C,GAAD,OAAeA,EAAY,KAoB5BzF,GAAG,SACHvB,UAAU,oCAEVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAChBH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAGjBH,EAAAC,EAAAC,cAAA,SACEkH,KAAK,SACLC,YAAY,4CACZlH,UAAU,gCACVmH,MAAOtD,EAASxC,MAChBjB,KAAK,QACLgH,SA9Gd,SAAsBN,GAAG,IAAAO,EACCP,EAAEQ,OAAlBlH,EADeiH,EACfjH,KAAM+G,EADSE,EACTF,MACdrD,EAAY,SAACyD,GACX,OAAOxG,OAAAyG,EAAA,EAAAzG,CAAA,GACFwG,EADLxG,OAAA0G,EAAA,EAAA1G,CAAA,GAEGX,EAAO+G,WA8GNtH,EAAAC,EAAAC,cAACsD,EAAD,CAAMC,YAAaA,EAAaH,KAAMiC,IACtCvF,EAAAC,EAAAC,cAAC2H,EAAD,CACE/G,OAAQA,EACRgH,WA9HS,EA+HTrE,YAAaA,EACb9C,OAAQA,EACRC,SAzCV,WACEqE,EAAU,SAAC8C,GAAD,OAAgBA,EAAa,KAyC/BlH,SAtCV,WACEoE,EAAU,SAAC8C,GAAD,OAAgBA,EAAa,iBCrG9BC,IAASC,WAAWC,SAASC,eAAe,SACpDC,OAAOpI,EAAAC,EAAAC,cAACmI,EAAD","file":"static/js/main.03d20456.chunk.js","sourcesContent":["import React from \"react\"\r\nexport default function Item ({itemDetails}){\r\n    if (itemDetails.preview) {\r\n    }\r\n    return(\r\n    <div className=\"about-text bg-white p-4 p-lg-5 my-lg-5\">\r\n        <div className=\"row mb-4\">\r\n            <div className=\"col-12\">\r\n                <img className=\"img-fluid\" src={itemDetails.preview ? itemDetails.preview.source : \"\"} alt=\"\"/>\r\n            </div>\r\n        </div>\r\n        <h1 className=\"mb-3\">{itemDetails.name ? itemDetails.name:\"\"}</h1>\r\n        <p>{itemDetails.wikipedia_extracts ? itemDetails.wikipedia_extracts.text:\"\"}</p>\r\n        \r\n    </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport Item from \"./Item\"\r\nimport { Button, ListGroup } from 'react-bootstrap';\r\n\r\nfunction List({places, nextFive, prevFive, offset}) {\r\n\r\n  \r\n  const [itemDetails, setItemDetails] = useState([]);\r\n\r\n function handleClick(id){\r\n  const itemDetail = async (id) => {\r\n    const url = `https://api.opentripmap.com/0.1/en/places/xid/${id}?apikey=5ae2e3f221c38a28845f05b67086197a9b692fe955df4ed765b9213a\r\n    `;\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n    setItemDetails(data);\r\n    \r\n  };\r\n  itemDetail(id);\r\n};\r\n  return (\r\n    <div className='row'>\r\n      <div className=\"col-md-6\">\r\n         <ListGroup as=\"ul\">\r\n      {places.map(place => {\r\n        return(\r\n          <ListGroup.Item className='hover' as=\"li\" onClick={()=> handleClick(place.xid)} key={place.xid}>\r\n        {place.name}\r\n      </ListGroup.Item>\r\n        )\r\n      })}\r\n      \r\n    </ListGroup>\r\n    {places.length > 0 ? <div className=\"d-flex justify-content-evenly mt-3\">\r\n      {offset >= 5 ?<Button onClick={prevFive} className='btn btn-info w-25'>Prev</Button> :\"\"}\r\n    {places.length === 5 ? <Button onClick={nextFive} className='btn btn-info w-25'>Next</Button> :\"\"}\r\n    \r\n   </div> : \"\"}\r\n      </div>\r\n      <div className=\"col-md-6\">\r\n         <Item itemDetails={itemDetails} />\r\n      </div> \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default List;","import React from \"react\";\r\n\r\n\r\nexport default function Header({city}){\r\n    return(\r\n        \r\n        <h1 className=\"text-center\">\r\n          Let's <span className=\"text-info\">Discover</span> The\r\n          <span className=\"text-info\"> {city ? city.toUpperCase():\"World\"} </span>Together\r\n        </h1>\r\n      \r\n    )\r\n}","import React from \"react\"\r\n\r\nexport default function Info({numOfPlaces, city}){\r\n    return(\r\n        <>{city.name ? <div id=\"info\" className=\"alert alert-primary\"><p>{city.name}, {city.country}</p><p>{numOfPlaces} objects with description in a 1km radius</p></div> :\"\"}\r\n        </>\r\n    )\r\n}","import React from \"react\";\nimport List from \"./components/List\";\nimport Header from \"./components/Header\";\nimport Info from \"./components/Info\";\n\nfunction App() {\n  /* STATES START*/\n  const [formData, setFormData] = React.useState({ place: \"\" });\n  const [counter, setCounter] = React.useState(0);\n  const [coords, setCoords] = React.useState({\n    lon: \"\",\n    lat: \"\",\n  });\n  const [places, setPlaces] = React.useState([]);\n  const pageLength = 5;\n  const [offset, setOffset] = React.useState(0);\n  const [numOfPlaces, setNumOfPlaces] = React.useState(\"\");\n  //const [btnStatus, setBtnStatus] = React.useState(\"visible\");\n  const [placeInfo, setPlaceInfo] = React.useState({});\n\n  /** STATES END */\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setFormData((prevFormData) => {\n      return {\n        ...prevFormData,\n        [name]: value,\n      };\n    });\n  }\n\n  const apikey = \"5ae2e3f221c38a28845f05b67086197a9b692fe955df4ed765b9213a\";\n\n  React.useEffect(() => {\n    function getApi(method, query) {\n      return new Promise(function(resolve, reject) {\n        let apiURL =\n          \"https://api.opentripmap.com/0.1/en/places/\" +\n          method +\n          \"?apikey=\" +\n          apikey;\n        if (query !== undefined) {\n          apiURL += \"&\" + query;\n        }\n        fetch(apiURL)\n          .then((res) => res.json())\n          .then((data) => resolve(data))\n          .catch(function(err) {\n            console.log(\"Fetch Error: -S\", err);\n          });\n      });\n    }\n\n    if (formData.place !== \"\") {\n      getApi(\"geoname\", `name=${formData.place}`).then(function(data) {\n        let message = \"Name not found\";\n        if (data.status === \"OK\") {\n          setCoords((prevCoords) => {\n            return {\n              lon: data.lon,\n              lat: data.lat,\n            };\n          });\n          setPlaceInfo(data);\n          message = data.name;\n          console.log(message, data);\n        }\n      });\n    }\n  }, [counter]);\n\n  React.useEffect(() => {\n    const getCityFromApi = async () => {\n      const url = `https://api.opentripmap.com/0.1/en/places/radius?apikey=${apikey}&rate=3&radius=1000&offset=${offset}&lon=${coords.lon}&lat=${coords.lat}&format=count`;\n      const res = await fetch(url);\n      const data = await res.json();\n      setNumOfPlaces(data.count);\n    };\n\n    const loadList = async () => {\n      const url = `https://api.opentripmap.com/0.1/en/places/radius?apikey=${apikey}&rate=3&radius=1000&limit=${pageLength}&offset=${offset}&lon=${coords.lon}&lat=${coords.lat}&format=json`;\n      const res = await fetch(url);\n      const data = await res.json();\n      //console.log(data);\n      setPlaces(data);\n    };\n\n    if (coords.lat !== \"\") {\n      getCityFromApi();\n      loadList();\n    }\n  }, [coords.lat, offset]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setOffset(0);\n\n    setCounter((prevCount) => prevCount + 1);\n    //console.log(formData.place);\n  }\n\n  function nextFive() {\n    setOffset((prevOffset) => prevOffset + 5);\n  }\n\n  function prevFive() {\n    setOffset((prevOffset) => prevOffset - 5);\n  }\n\n  return (\n    <div className=\"container\">\n      <Header city={formData.place} />\n      <div className=\"row\">\n        <div className=\"col-md-12 p-4\">\n          <div className=\"col-md-6\">\n            <form\n              onSubmit={handleSubmit}\n              id=\"search\"\n              className=\"input-group mt-5 mb-4 border p-1\"\n            >\n              <div className=\"input-group-prepend border-0\">\n                <button className=\"btn btn-link \">\n                  <i className=\"fa fa-search\"></i>\n                </button>\n              </div>\n              <input\n                type=\"search\"\n                placeholder=\"Region, city, village,  etc. (e.g. Konya)\"\n                className=\"form-control bg-none border-0\"\n                value={formData.place}\n                name=\"place\"\n                onChange={handleChange}\n              />\n            </form>\n          </div>\n\n          <Info numOfPlaces={numOfPlaces} city={placeInfo} />\n          <List\n            offset={offset}\n            pageLength={pageLength}\n            numOfPlaces={numOfPlaces}\n            places={places}\n            nextFive={nextFive}\n            prevFive={prevFive}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<App />);\n"],"sourceRoot":""}